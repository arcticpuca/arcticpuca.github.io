<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="./resources/ol.css">
        <link rel="stylesheet" href="resources/fontawesome-all.min.css">
        <link href="resources/ol-geocoder.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./resources/ol-layerswitcher.css">
        <link rel="stylesheet" href="./resources/qgis2web.css">
        <style>
        html, body {
            background-color: #ffffff;
        }
        .ol-control > * {
            background-color: #f8f8f8!important;
            color: #444444!important;
            border-radius: 0px;
        }
        .ol-attribution a, .gcd-gl-input::placeholder, .search-layer-input-search::placeholder {
            color: #444444!important;
        }
        .search-layer-input-search {
            background-color: #f8f8f8!important;
        }
        .ol-control > *:focus, .ol-control >*:hover {
            background-color: rgba(248, 248, 248, 0.7)!important;
        } 
        .ol-control {
            background-color: rgba(255,255,255,.4) !important;
            padding: 2px !important;
        } 
        </style>

        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>Archived NOTAMs: Educational Demo (NOT FOR FLIGHT)</title>
    </head>
    <body>
	        <div id="disclaimerModal" style="
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            display: flex; /* Use flexbox to center content */
        ">
            <div style="
                background-color: #fefefe;
                margin: auto; /* Centered with flexbox */
                padding: 20px;
                border: 1px solid #888;
                width: 90%; /* Could be more or less, depending on screen size */
                max-width: 600px; /* Max width for larger screens */
                border-radius: 8px;
                text-align: center;
                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
                font-family: Arial, sans-serif;
            ">
                <h2 style="color: #d9534f;">Important Disclaimer!</h2>
                <p style="font-size: 1.1em; line-height: 1.6;">
                    The data presented on this map, referring to NOTAMs (Notice to Airmen / Notice to Air Missions), is <strong style="color: #d9534f;">NOT LIVE</strong> and is <strong style="color: #d9534f;">NOT for aviation or other planning purposes.</strong>
                </p>
                <p style="font-size: 1.1em; line-height: 1.6;">
                    It is provided solely as an <strong style="color: #5cb85c;">educational tool</strong> to demonstrate one way of visualizing archived NOTAM data.
                </p>
                <p style="font-size: 1.1em; line-height: 1.6;">
                    Always refer to official, live sources for flight planning and operational decisions.
                </p>
                <button id="closeDisclaimer" style="
                    background-color: #007bff; /* Blue */
                    color: white;
                    padding: 10px 20px;
                    border: none;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 1em;
                    margin-top: 20px;
                ">
                    Acknowledge and Continue
                </button>
            </div>
        </div>
        <div id="map">
            <div id="popup" class="ol-popup">
                <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                <div id="popup-content"></div>
            </div>
        </div>
        <script src="resources/qgis2web_expressions.js"></script>
        <script src="./resources/functions.js"></script>
        <script src="./resources/ol.js"></script>
        <script src="./resources/ol-layerswitcher.js"></script>
        <script src="resources/ol-geocoder.js"></script>
        <script src="layers/G5Poly_2.js"></script><script src="layers/G5Lines_3.js"></script><script src="layers/G5Points_4.js"></script><script src="layers/G4Poly_5.js"></script><script src="layers/G4Lines_6.js"></script><script src="layers/G4Points_7.js"></script><script src="layers/G3Poly_8.js"></script><script src="layers/G3Points_9.js"></script><script src="layers/G2Poly_10.js"></script><script src="layers/G2Lines_11.js"></script><script src="layers/G2Points_12.js"></script><script src="layers/G1Poly_13.js"></script><script src="layers/G1Lines_14.js"></script>
        <script src="styles/G5Poly_2_style.js"></script><script src="styles/G5Lines_3_style.js"></script><script src="styles/G5Points_4_style.js"></script><script src="styles/G4Poly_5_style.js"></script><script src="styles/G4Lines_6_style.js"></script><script src="styles/G4Points_7_style.js"></script><script src="styles/G3Poly_8_style.js"></script><script src="styles/G3Points_9_style.js"></script><script src="styles/G2Poly_10_style.js"></script><script src="styles/G2Lines_11_style.js"></script><script src="styles/G2Points_12_style.js"></script><script src="styles/G1Poly_13_style.js"></script><script src="styles/G1Lines_14_style.js"></script>
        <script src="./layers/layers.js" type="text/javascript"></script> 
        <script src="./resources/Autolinker.min.js"></script>
        <script src="./resources/qgis2web.js"></script>
				<script>
            document.addEventListener('DOMContentLoaded', function() {
                // This targets the default 'i' (info) button that qgis2web uses for the abstract
                var infoButton = document.querySelector('.ol-control-info button');
                if (infoButton) {
                    infoButton.click(); // Programmatically click the info button
                } else {
                    // Fallback in case the button selector changes or is not found
                    // This assumes the abstract content itself has an ID like 'info'
                    // You might need to inspect your live map's HTML to find its actual ID
                    var abstractPanel = document.getElementById('info');
                    if (abstractPanel) {
                        abstractPanel.style.display = 'block';
                        // If it has a 'collapsed' class that hides it, you might need:
                        // abstractPanel.classList.remove('collapsed');
                    }
                }

                // --- Start of Snippet 2 to paste here ---
                // Get the modal
                var modal = document.getElementById('disclaimerModal');
                // Get the button that closes the modal
                var btn = document.getElementById('closeDisclaimer');

                // Show the modal when the page loads
                modal.style.display = 'flex'; // Use 'flex' to enable centering styles

                // When the user clicks on the button, close the modal
                btn.onclick = function() {
                    modal.style.display = 'none';
                }

                // When the user clicks anywhere outside of the modal content, close it
                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = 'none';
                    }
                }
                // --- End of Snippet 2 ---
            });
        </script>
    </body>
</html>
